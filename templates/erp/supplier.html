{% extends "layout.html" %}
<!-- this block is used for linked be used in head for this page   -->
{% block link%} <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>{% endblock%}

 {% block center%}  <!-- this block exist between head & body and reserved for modals  -->
<dialog id="my_modal_4" class="modal">
  <div class="modal-box w-11/12 max-w-5xl">
    <!-- here i will put form for adding new Suppliers -->
    <div class ='grid grid-cols-1 gap-2 p-2 w-96 h-auto'>
      <div class='col-span-1'>
      <h3 class="font-bold text-2xl">Add New Supplier</h3>
      <label class="input validator">
        
        <input
          type="input"
          required
          placeholder="Name"
          pattern="[A-Za-z][A-Za-z0-9\-]*"
          minlength="3"
          maxlength="30"
          title="Only letters, numbers or dash"
        />
      </label>
      
      </div>
      <div class='col-span-1'>
        <input
          type="number"
          class="input validator"
          required
          placeholder="Type contact of 11 digit"
          min="11"
          max="11"
          title="Must be between be 11 digit"
        />
        
      </div>
      <div class='col-span-1'>
        <input
          type="number"
          class="input validator"
          required
          placeholder="Type a second contact of 11 digit optional"
          min="11"
          max="11"
          title="Must be between be 11 digit"
        />
        
        <p class="label">Optional</p>
      </div>
      <div class='col-span-1'>
        <input
          type="number"
          class="input validator"
          required
          placeholder="Type bank account number"
          
          
        />

      </div>
      <div class='col-span-1'>
        <input
          type="number"
          class="input validator"
          required
          placeholder="Type bank Second account number"
        />
        <p class="label">Optional</p>
      </div>
      <div class='col-span-1'>
        <textarea class="textarea" placeholder="Address"></textarea>

      </div>
      <div class='col-span-1'>
        <input type="submit" value="Submit" class="btn" />

      </div>
    </div>
    <div class="modal-action">
      <form method="dialog">
        
        <!-- if there is a button, it will close the modal -->
        <button class="btn">Close</button>
      </form>
    </div>
  </div>
</dialog>
{% endblock%}

<!-- this block is for title of page  -->
{% block title%}Suppliers{% endblock%}
<!-- this block id used for breadcrumb in page -->
{% block breadcrumb%}
<div class="breadcrumbs text-sm">
  <ul>
    <li><a>pos</a></li>
    <li>Suppliers</li>
  </ul>
</div>
{% endblock %}
<!-- this block for heading  -->
{% block heading%}Suppliers{%endblock%}

<!-- this is main content block  -->
{% block content %}
<div class= 'grid grid-cols-8 gap-2 p-2'>
  <div class='col-span-8 md:col-span-6 bg-base-300 h-auto rounded-2xl p-1'>
    <div class='flex justify-between'>
      <!-- this inputs are for searching the data from database about Supplierss in async mode  -->
      <h3 class='text-xl font-bold p-2'>Search...</h3>
      <input type="number" placeholder="Sno..." class="input input-ghost" />
      <input type="text" placeholder="Name..." class="input input-ghost" />
      <input type="tel" placeholder="Contact..." class="input input-ghost tabular-nums" pattern="[0-9]*" maxlength="11" />
      
      <select class="select select-ghost">
        <option selected></option>
        <option>5 Star</option>
        <option>3 Star</option>
        <option>Star</option>
        
      </select>
    </div>
    
  </div>
  <div class='col-span-8 md:col-span-2 h-auto rounded-2xl '>
    <!-- after searching if user doesnt find the Suppliers he can add new Suppliers by clicking this button and this button will open a new model  -->
    <button class="btn btn-block btn-success h-12 rounded-2xl" onclick="my_modal_4.showModal()"><i class="fa-solid fa-plus"></i>New</button>
    
  </div>
  <div class='col-span-8 md:col-span-5 bg-base-300 h-64 overflow-y-auto rounded-2xl'>
    <h3 class='text-xl font-bold p-2'>Filtered Suppliers</h3>

    
      <table class="table table-zebra table-pin-rows">
        <!-- head -->
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Job</th>
            <th>Favorite Color</th>
          </tr>
        </thead>
        <tbody>
          <!-- row 1 -->
          <tr>
            <th>1</th>
            <td>Cy Ganderton</td>
            <td>Quality Control Specialist</td>
            <td>Blue</td>
          </tr>
          <!-- row 2 -->
          <tr>
            <th>2</th>
            <td>Hart Hagerty</td>
            <td>Desktop Support Technician</td>
            <td>Purple</td>
          </tr>
          <!-- row 3 -->
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
        </tbody>
      </table>
    
  </div>
  <div class='col-span-8 md:col-span-3 bg-base-300 h-64 overflow-y-auto rounded-2xl'>
    <h3 class='text-xl font-bold p-2'>Recently Added</h3>
    
      <table class="table table-zebra table-pin-rows">
        <!-- head -->
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Job</th>
            <th>Favorite Color</th>
          </tr>
        </thead>
        <tbody>
          <!-- row 1 -->
          <tr>
            <th>1</th>
            <td>Cy Ganderton</td>
            <td>Quality Control Specialist</td>
            <td>Blue</td>
          </tr>
          <!-- row 2 -->
          <tr>
            <th>2</th>
            <td>Hart Hagerty</td>
            <td>Desktop Support Technician</td>
            <td>Purple</td>
          </tr>
          <!-- row 3 -->
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
        </tbody>
      </table>
    
  </div>
  
</div>

<div class='grid grid-cols-8 gap-2 p-2'>
  <div class='col-span-4 bg-base-300 h-auto overflow-y-auto rounded-2xl'>
    <canvas id="lineChart" class="w-full h-64"></canvas>
  </div>
  <div class='col-span-4 bg-base-300 h-64 overflow-y-auto rounded-2xl'>
    <h3 class='text-xl font-bold p-2'>Recent Activitie In Suppliers</h3>
    
      <table class="table table-zebra table-pin-rows">
        <!-- head -->
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Job</th>
            <th>Favorite Color</th>
          </tr>
        </thead>
        <tbody>
          <!-- row 1 -->
          <tr>
            <th>1</th>
            <td>Cy Ganderton</td>
            <td>Quality Control Specialist</td>
            <td>Blue</td>
          </tr>
          <!-- row 2 -->
          <tr>
            <th>2</th>
            <td>Hart Hagerty</td>
            <td>Desktop Support Technician</td>
            <td>Purple</td>
          </tr>
          <!-- row 3 -->
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
          <tr>
            <th>3</th>
            <td>Brice Swyre</td>
            <td>Tax Accountant</td>
            <td>Red</td>
          </tr>
        </tbody>
      </table>
    
  </div>
</div>
{% endblock %}

{% block script%}
<canvas id="lineChart" class="w-full h-64"></canvas>

<script>
  const lineCtx = document.getElementById('lineChart')?.getContext('2d');
  if (lineCtx) {
    new Chart(lineCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        datasets: [
          {
            label: 'Star Suppliers',
            data: [10, 15, 13, 17, 16, 18],
            fill: true,
            borderColor: '#605DFF', // primary
            backgroundColor: 'rgba(96, 93, 255, 0.2)',
            tension: 0.4
          },
          {
            label: '3 Star Suppliers',
            data: [5, 8, 9, 6, 7, 10],
            fill: true,
            borderColor: '#F43098', // secondary
            backgroundColor: 'rgba(244, 48, 152,0.2)',
            tension: 0.4
          },
          {
            label: '5 Star Suppliers',
            data: [18, 15, 3, 16, 16, 10],
            fill: true,
            borderColor: '#00D3BB', // accent
            backgroundColor: 'rgba(0, 211, 187,0.2)',
            tension: 0.4
          },
          {
            label: 'Red lists',
            data: [5, 9, 12, 15, 4, 2],
            fill: true,
            borderColor: '#f70429', // black
            backgroundColor: 'rgba(247, 4, 41,0.2)',
            tension: 0.4
          },
          
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          y: {
            beginAtZero: true
          }
        },
        plugins: {
          legend: {
            position: 'top'
          }
        }
      }
    });
  }
</script>


{% endblock %}